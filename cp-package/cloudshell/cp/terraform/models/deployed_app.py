from __future__ import annotations

from cloudshell.cp.core.request_actions import (
    DeployedVMActions,
    GetVMDetailsRequestActions,
)
from cloudshell.cp.core.request_actions.models import DeployedApp
from cloudshell.cp.terraform import constants
from cloudshell.cp.terraform.models.base_deployment_app import (
    ResourceAttrRODeploymentPath,
    ResourceBoolAttrRODeploymentPath,
    ResourceDictAttrRODeploymentPath,
    ResourceDictPasswordAttrRODeploymentPath,
    ResourcePasswordAttrRODeploymentPath,
    TerraformDeploymentAppAttributeNames,
)


class BaseTFDeployedApp(DeployedApp):
    ATTR_NAMES = TerraformDeploymentAppAttributeNames
    DEPLOYMENT_PATH = constants.VM_FROM_TF_GIT

    autogenerated_name: str = ResourceBoolAttrRODeploymentPath(
        ATTR_NAMES.autogenerated_name
    )
    branch: str = ResourceAttrRODeploymentPath(ATTR_NAMES.branch)
    cloud_provider: str = ResourceAttrRODeploymentPath(ATTR_NAMES.cloud_provider)
    custom_tags: dict = ResourceDictAttrRODeploymentPath(ATTR_NAMES.custom_tags)
    git_terraform_url: str = ResourceAttrRODeploymentPath(ATTR_NAMES.git_terraform_url)
    terraform_app_inputs_map: dict[str:str] = ResourceDictAttrRODeploymentPath(
        ATTR_NAMES.terraform_app_inputs_map
    )
    terraform_app_outputs_map: dict[str:str] = ResourceDictAttrRODeploymentPath(
        ATTR_NAMES.terraform_app_outputs_map
    )
    terraform_inputs: dict = ResourceDictAttrRODeploymentPath(
        ATTR_NAMES.terraform_inputs
    )
    terraform_sensitive_inputs: dict = ResourceDictPasswordAttrRODeploymentPath(
        ATTR_NAMES.terraform_sensitive_inputs
    )


#
#     vm_cluster = ResourceAttrRODeploymentPath(ATTR_NAMES.vm_cluster)
#     vm_storage = ResourceAttrRODeploymentPath(ATTR_NAMES.vm_storage)
#     vm_resource_pool = ResourceAttrRODeploymentPath(ATTR_NAMES.vm_resource_pool)
#     vm_location = ResourceAttrRODeploymentPath(ATTR_NAMES.vm_location)
#     behavior_during_save = ResourceAttrRODeploymentPath(ATTR_NAMES.behavior_during_save)
#     auto_power_on = ResourceBoolAttrRODeploymentPath(ATTR_NAMES.auto_power_on)
#     auto_power_off = ResourceBoolAttrRODeploymentPath(ATTR_NAMES.auto_power_off)
#     wait_for_ip = ResourceBoolAttrRODeploymentPath(ATTR_NAMES.wait_for_ip)
#     auto_delete = ResourceBoolAttrRODeploymentPath(ATTR_NAMES.auto_delete)
#     autoload = ResourceBoolAttrRODeploymentPath(ATTR_NAMES.autoload)
#     ip_regex = ResourceAttrRODeploymentPath(ATTR_NAMES.ip_regex)
#     refresh_ip_timeout = ResourceIntAttrRODeploymentPath(ATTR_NAMES.refresh_ip_timeout)
#     customization_spec = ResourceAttrRODeploymentPath(ATTR_NAMES.customization_spec)
#     hostname = ResourceAttrRODeploymentPath(ATTR_NAMES.hostname)
#     private_ip = ResourceAttrRODeploymentPath(ATTR_NAMES.private_ip)
#     cpu_num = ResourceIntAttrRODeploymentPath(ATTR_NAMES.cpu_num)
#     ram_amount = ResourceFloatAttrRODeploymentPath(ATTR_NAMES.ram_amount)
#     hdd_specs = HddSpecsAttrRO(ATTR_NAMES.hdd_specs)
#     autogenerated_name = ResourceBoolAttrRODeploymentPath(ATTR_NAMES.autogenerated_name)
#     copy_source_uuid = ResourceBoolAttrRODeploymentPath(ATTR_NAMES.copy_source_uuid)


class TFGetVMDetailsRequestActions(GetVMDetailsRequestActions):
    deployed_app: BaseTFDeployedApp


class TFDeployedVMActions(DeployedVMActions):
    deployed_app: BaseTFDeployedApp
